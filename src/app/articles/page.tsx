import { Metadata } from "next";
import Link from "next/link";
import prisma from "../../../lib/db";
export const metadata: Metadata = {
  title: "記事一覧 - yuyujan.dev",
  description: "Generated by create next app",
};
// 1日ごとに再検証（TTL = 60*60*24*1秒）
export const revalidate = 60 * 60 * 24 * 1;

export default async function getArticles() {
  const articles = await prisma.article.findMany();

  const listItems = articles.map((a, index) => (
    <div key={index} style={{ border: "1px solid #fff", padding: "10px", margin: "5px" }}>
      <Link href={`/article/${a.en_title}`}>
        {a.jp_title} - {a.en_title}
      </Link>
    </div>
  ));
  return listItems;
}
